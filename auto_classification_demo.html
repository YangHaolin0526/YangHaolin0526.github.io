<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动分类演示 - Publication Filter</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .publication-filters {
            display: flex;
            gap: 0;
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
            background: #f8f9fa;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: transparent;
            border: none;
            padding: 10px 15px;
            font-size: 0.8rem;
            font-weight: 500;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-right: 1px solid #ddd;
            white-space: nowrap;
            outline: none;
        }
        
        .filter-btn:last-child { border-right: none; }
        .filter-btn:hover {
            background: #e9ecef;
            color: #333;
        }
        .filter-btn.active {
            background: #007bff;
            color: white;
        }
        
        .publication-item {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .pub-title a {
            font-size: 1.1rem;
            font-weight: 600;
            color: #4285f4;
            text-decoration: none;
            line-height: 1.3;
        }
        
        .pub-authors {
            color: #666;
            margin: 8px 0 6px 0;
            font-size: 0.9rem;
        }
        
        .pub-venue {
            color: #888;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        
        .category-display {
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #495057;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .debug {
            background: #fff3cd;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            border: 1px solid #ffeaa7;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        @media (max-width: 768px) {
            .filter-btn {
                flex: 1;
                min-width: calc(50% - 1px);
                border-right: none;
                border-bottom: 1px solid #ddd;
            }
            .filter-btn:nth-child(2n) {
                border-right: 1px solid #ddd;
            }
            .filter-btn:last-child {
                border-bottom: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🤖 自动分类演示</h1>
        <p>这个页面演示了基于关键词的自动论文分类功能。系统会根据论文标题、期刊/会议、作者信息自动分配类别。</p>
        
        <div id="debug" class="debug">
            分类系统正在启动...
        </div>
        
        <div class="publication-filters">
            <button class="filter-btn active" data-filter="selected" onclick="handleFilterClick('selected', this)">SELECTED PAPERS</button>
            <button class="filter-btn" data-filter="all" onclick="handleFilterClick('all', this)">ALL</button>
            <button class="filter-btn" data-filter="machine-learning" onclick="handleFilterClick('machine-learning', this)">MACHINE LEARNING</button>
            <button class="filter-btn" data-filter="natural-language" onclick="handleFilterClick('natural-language', this)">NATURAL LANGUAGE PROCESSING</button>
            <button class="filter-btn" data-filter="computer-vision" onclick="handleFilterClick('computer-vision', this)">COMPUTER VISION</button>
        </div>
        
        <div class="publications-list">
            <!-- 测试论文数据 - 无预设分类 -->
            <div class="publication-item">
                <div class="pub-title">
                    <a href="">G-llava: Solving geometric problem with multi-modal large language model</a>
                </div>
                <div class="pub-authors">
                    Jiahui Gao, Renjie Pi, Jipeng Zhang, Jiacheng Ye, Wanjun Zhong, Yufei Wang, Lanqing Hong, Jianhua Han, Hang Xu, Zhenguo Li, Lingpeng Kong.
                </div>
                <div class="pub-venue">
                    <em>ICLR 2024</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>

            <div class="publication-item">
                <div class="pub-title">
                    <a href="">Image Textualization: An Automatic Framework for Creating Accurate and Detailed Image Descriptions</a>
                </div>
                <div class="pub-authors">
                    Renjie Pi, Jianshu Zhang, Jipeng Zhang, Rui Pan, Zhekai Chen, Tong Zhang.
                </div>
                <div class="pub-venue">
                    <em>NeurIPS 2024</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>

            <div class="publication-item">
                <div class="pub-title">
                    <a href="">ExeSQL: Self-Taught Text-to-SQL Models with Execution-Driven Bootstrapping for SQL Dialects</a>
                </div>
                <div class="pub-authors">
                    Jipeng Zhang, Haolin Yang, Kehao Miao, Ruiyuan Zhang, Renjie Pi, Jiahui Gao, Xiaofang Zhou.
                </div>
                <div class="pub-venue">
                    <em>arxiv 2025</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>

            <div class="publication-item">
                <div class="pub-title">
                    <a href="">TheoremLlama: Transforming General-Purpose LLMs into Lean4 Experts</a>
                </div>
                <div class="pub-authors">
                    Ruida Wang*, Jipeng Zhang*, Yizhen Jia*, Rui Pan, Shizhe Diao, Renjie Pi, Tong Zhang.
                </div>
                <div class="pub-venue">
                    <em>EMNLP 2024</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>

            <div class="publication-item">
                <div class="pub-title">
                    <a href="">Graph-to-Tree Learning for Solving Math Word Problems</a>
                </div>
                <div class="pub-authors">
                    Jipeng Zhang*, Lei Wang*, Roy Ka-Wei Lee, Yi Bin, Yan Wang, Jie Shao, Ee-Peng Lim.
                </div>
                <div class="pub-venue">
                    <em>ACL 2020</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>

            <div class="publication-item">
                <div class="pub-title">
                    <a href="">Mitigating the Alignment Tax of RLHF</a>
                </div>
                <div class="pub-authors">
                    Yong Lin, Hangyu Lin, Wei Xiong, Shizhe Diao, Jianmeng Liu, Jipeng Zhang, Rui Pan, Haoxiang Wang, Wenbin Hu, Hanning Zhang, Hanze Dong, Renjie Pi, Han Zhao, Nan Jiang, Heng Ji, Yuan Yao, Tong Zhang.
                </div>
                <div class="pub-venue">
                    <em>EMNLP 2024</em>
                </div>
                <div class="category-display">分类：<span class="auto-category">待分类...</span></div>
            </div>
        </div>
    </div>

<script>
// 自动分类规则
var categoryRules = {
    'machine-learning': [
        'machine learning', 'ml', 'deep learning', 'neural', 'model', 'training', 'optimization',
        'multimodal', 'vision-language', 'vlm', 'foundation model', 'large language model',
        'llm', 'gpt', 'bert', 'transformer', 'finetuning', 'alignment', 'rlhf', 'reinforcement',
        'detection', 'visual', 'image', 'geometric', 'preference optimization', 'bootstrapped'
    ],
    'natural-language': [
        'language', 'nlp', 'text', 'linguistic', 'parsing', 'generation', 'understanding',
        'sql', 'code', 'programming', 'mathematical', 'reasoning', 'word problems',
        'theorem', 'lean4', 'math', 'autoregressive', 'evaluation', 'gradient', 'coreset',
        'bilingual', 'low-resource', 'dialect'
    ],
    'computer-vision': [
        'vision', 'image', 'visual', 'detection', 'recognition', 'computer vision',
        'textualization', 'geometric', 'multimodal', 'vision-language'
    ]
};

// 高质量会议/期刊列表
var topVenues = [
    'ICLR', 'NeurIPS', 'ICML', 'ACL', 'EMNLP', 'NAACL', 'CVPR', 'ICCV', 'ECCV',
    'TPAMI', 'JMLR', 'TMLR', 'Nature', 'Science', 'AAAI', 'IJCAI'
];

function autoClassifyPublication(title, venue, authors) {
    var categories = [];
    var text = (title + ' ' + venue + ' ' + authors).toLowerCase();
    
    // 检查是否为顶级会议/期刊
    var isTopVenue = topVenues.some(function(topVenue) {
        return venue.toUpperCase().indexOf(topVenue) >= 0;
    });
    
    if (isTopVenue) {
        categories.push('selected');
    }
    
    // 检查每个类别的关键词
    for (var category in categoryRules) {
        var keywords = categoryRules[category];
        var matchCount = 0;
        
        for (var i = 0; i < keywords.length; i++) {
            if (text.indexOf(keywords[i]) >= 0) {
                matchCount++;
            }
        }
        
        if (matchCount > 0) {
            categories.push(category);
        }
    }
    
    if (categories.length === 0) {
        categories.push('machine-learning');
    }
    
    return categories.join(' ');
}

function updateDebug(message) {
    var debug = document.getElementById('debug');
    debug.innerHTML += '<br>' + new Date().toLocaleTimeString() + ': ' + message;
    debug.scrollTop = debug.scrollHeight;
}

function applyAutoClassification() {
    updateDebug('🤖 开始自动分类...');
    
    var items = document.getElementsByClassName('publication-item');
    
    for (var i = 0; i < items.length; i++) {
        var item = items[i];
        var titleElement = item.querySelector('.pub-title a');
        var venueElement = item.querySelector('.pub-venue');
        var authorsElement = item.querySelector('.pub-authors');
        var categoryDisplay = item.querySelector('.auto-category');
        
        if (titleElement && venueElement && authorsElement) {
            var title = titleElement.textContent || '';
            var venue = venueElement.textContent || '';
            var authors = authorsElement.textContent || '';
            
            var autoCategories = autoClassifyPublication(title, venue, authors);
            item.setAttribute('data-category', autoCategories);
            
            if (categoryDisplay) {
                categoryDisplay.textContent = autoCategories;
            }
            
            updateDebug('📄 "' + title.substring(0, 30) + '..." -> [' + autoCategories + ']');
        }
    }
    
    updateDebug('✅ 分类完成！');
}

function handleFilterClick(filter, clickedButton) {
    updateDebug('🔄 点击过滤器: ' + filter);
    
    // 移除所有active类
    var allButtons = document.getElementsByClassName('filter-btn');
    for (var i = 0; i < allButtons.length; i++) {
        allButtons[i].classList.remove('active');
    }
    
    clickedButton.classList.add('active');
    
    var items = document.getElementsByClassName('publication-item');
    var visibleCount = 0;
    
    for (var j = 0; j < items.length; j++) {
        var item = items[j];
        var categories = item.getAttribute('data-category') || '';
        
        if (filter === 'all') {
            item.style.display = 'block';
            visibleCount++;
        } else {
            if (categories.indexOf(filter) >= 0) {
                item.style.display = 'block';
                visibleCount++;
            } else {
                item.style.display = 'none';
            }
        }
    }
    
    updateDebug('👁️ 显示 ' + visibleCount + ' 篇论文 (过滤器: ' + filter + ')');
}

// 初始化
setTimeout(function() {
    updateDebug('🚀 系统启动');
    applyAutoClassification();
    
    // 默认显示selected
    var selectedBtn = document.querySelector('.filter-btn[data-filter="selected"]');
    if (selectedBtn) {
        handleFilterClick('selected', selectedBtn);
    }
}, 500);
</script>

</body>
</html> 